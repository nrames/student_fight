{"version":3,"sources":["webpack:///webpack/bootstrap 629492e5ad9e4f05473f","webpack:///./main.js","webpack:///./Avatar.js"],"names":["loaded","students","winner","position","fighter","document","getElementById","data","dataset","label","innerHTML","name","push","length","fighting","selectStudents","placeFighters","avatar","div","createElement","className","left","right","fightZone","remove","append","renderStudents","list","forEach","user","li","innerText","sample","index","Math","floor","random","student","splice","leftBox","rightBox","startFight","pullStudents","xhr","XMLHttpRequest","onreadystatechange","readyState","DONE","JSON","parse","responseText","open","send","button","leftFighter","rightFighter","addEventListener","Avatar"],"mappings":"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","file":"./bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 629492e5ad9e4f05473f","import Avatar from './Avatar';\nvar loaded = false;\nvar students = [];\n\nfunction winner(position) {\n  var fighter = document.getElementById('fighter_' + position);\n  var data = fighter.dataset;\n  var label = document.getElementById('winner');\n  label.innerHTML = \"Winner: \" + data.name;\n  students.push(data);\n  if (students.length !== 1) {\n    var fighting = selectStudents();\n    placeFighters(fighting);\n  } else {\n    var avatar = Avatar(position, data) \n    var div = document.createElement('div');\n    div.className = 'winner';\n    div.innerHTML = avatar;\n    var left = document.getElementById('left');\n    var right = document.getElementById('right');\n    var fightZone = document.getElementById('fight_zone');\n    left.remove();\n    right.remove();\n    fightZone.append(div);\n  }\n}\n\nfunction renderStudents() {\n  var list = document.getElementById('students');\n  list.innerHTML = null;\n  students.forEach( function(user) {\n    var li = document.createElement('li');\n    li.innerText = user.name;\n    list.append(li);\n  });\n}\n\nfunction sample() {\n  var index = Math.floor(Math.random() * students.length);\n  var student = students[index];\n  students.splice(index, 1);\n  return student;\n}\n\nfunction selectStudents() {\n  var left = sample();\n  var right = sample();\n  renderStudents();\n  return [left, right]\n}\n\nfunction placeFighters(fighting) {\n  var left = Avatar('left', fighting[0]);\n  var right = Avatar('right', fighting[1]);\n  var leftBox = document.getElementById('left');\n  var rightBox = document.getElementById('right');\n  leftBox.innerHTML = left;\n  rightBox.innerHTML = right;\n}\n\nfunction startFight() {\n  loaded = true;\n  var left = document.getElementById('left');\n  var right = document.getElementById('right');\n  left.className = 'left fight-box';\n  right.className = 'left fight-box';\n  var fighting = selectStudents();\n  placeFighters(fighting);\n}\n\nfunction pullStudents() {\n  if (!loaded) {\n    var xhr = new XMLHttpRequest()\n    xhr.onreadystatechange = function() {\n      if (xhr.readyState == XMLHttpRequest.DONE) {\n        students = JSON.parse(xhr.responseText);\n        var list = document.getElementById('students')\n        students.forEach( function(user) {\n          var li = document.createElement('li');\n          li.innerText = user.name\n          list.append(li);\n        })\n        document.getElementById('load_students').remove();\n        startFight();\n      }\n    }\n    xhr.open('GET', 'https://canvas-students.herokuapp.com/api/student_list/50', true);\n    xhr.send(null);\n  }\n}\n\nvar button = document.getElementById('loading_zone');\nvar leftFighter = document.getElementById('left');\nvar rightFighter = document.getElementById('right');\nbutton.addEventListener('click', pullStudents)\nleftFighter.addEventListener('click', function() { winner('left') })\nrightFighter.addEventListener('click', function() { winner('right') })\n\n\n\n\n\n\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./main.js","const Avatar = (position, { name, avatar }) => (\n  `<h5\n     id='fighter_${position}'\n     data-name='${name}'\n     data-avatar='${avatar}'\n     class=\"center fighter\"\n   >\n     ${name}\n   </h5>\n   <img\n     class=\"avatar\"\n     src='${avatar}'\n   />`\n)\n\nexport default Avatar;\n\n\n\n// WEBPACK FOOTER //\n// ./Avatar.js"],"sourceRoot":""}